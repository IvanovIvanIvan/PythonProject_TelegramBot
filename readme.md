## Телеграм-бот заметок

### Описание:

Нами был реализован телеграм-бот, который позволяет хранить заметки различных пользователей, редактировать, создавать и просматривать их. У каждой заметки есть поле заголовка и текста. Также возможен экспорт заметок. Поддерживается создание и удаление разных пользователей - все они и их заметки хранятся в базе данных. Telgram id бота - @MiptDiaryBot

### Реализуемый функционал:

Реализованы следующие команды:

**/start** - Приветствие пользователя

**/signin** - регистрация или вход в аккаунт. Запрашивается, в первый ли раз пользователь заходит в бота, если да, то ему предлагается выбрать имя пользователя и пароль, иначе - войти в аккаунт.

**/create** - создание новой записи. Работает только, если пользователь вошёл в аккаунт. После написания команды предлагается выбрать заголовок для записи, а затем написать её текст.

**/edit** - редактирование записи. Работает только, если пользователь вошёл в аккаунт. После написания команды бот присылает список уже созданных записей и предлагает выбрать, какую необходимо отредактировать, затем предлагает написать новый текст записи.

**/read** - чтение записи. Работает только, если пользователь вошёл в аккаунт. После написания команды бот присылает список уже созданных записей и предлагает выбрать, какую необходимо прочитать. Затем, отправляет пользователю текст необходимой записи.

**/delete** - удаление записи. Работает только, если пользователь вошёл в аккаунт. После написания команды бот присылает список уже созданных записей и предлагает выбрать, какую необходимо удалить.

**/export** - экспорт записи. Работает только, если пользователь вошёл в аккаунт. После написания команды бот присылает список уже созданных записей и предлагает выбрать, какую необходимо экспортировать. Затем, отправляет пользователю .txt файл необходимой записи.

**/logout** - выход из аккаунта.

**/deluser** - удаление пользователя.

### Архитектура:

В модуле reqs хранятся переменные: signedin - показывает, вошёл пользователь в свой аккаунт или нет;  date - заголовок заметки, над которой в данный момент совершаются действия; name - имя текущего пользователя; password - пароль данного пользователя. В данном модуле реализованы следующие функции:

**answer(message)** - в зависимости от ответа пользователя выбирает, нужно ему создать аккаунт или войти в него.

**signame(message)** - функция, создающая таблицу для нового пользователя, и принимающая его имя

**passname(message)** - функция, заводящая пароль для нового пользователя и открывающая ему доступ ко всем функциям

**logname(message)** - функция, проверяющая, существуит ли пользователь с данным именем

**passlog(message)** -  проверяет введённый пароль и открывает доступ к аккаунту

**creating(message)** - заводит запись в базе данных с полученным заголовком и перенаправляет на функцию writing

**writing(message)** - записывает вбазу данных тело заметки

**editing(message)** - проверяет, существует ли запись с данным заголовком и перенаправляет на функцию writing для изменения заметки, если такая запись существует

**reading(message)** - проверяет, существует ли запись с данным заголовком и отправляет её текст, если такая запись существует

**deleting(message)** - проверяет, существует ли запись с данным заголовком и удаляет её из базы данных, если такая запись существует

**exporting(message)** - проверяет, существует ли запись с данным заголовком и отправляет .txt файл с ней, если такая запись существует

В файле project_2.py реализованы команды тг-бота:

**/start** - отправляет пользователю приветственное сообщение

**/signin** - создаёт, если нужно базу данных всех пользователей, спрашивает, первый ли раз пользователь пользуется сервисом и перенаправляет на функцию reqs.answer

**/create** - проверяет, вошёл ли пользователь в систему и если да, запрашивает заголовок заметки перенаправляет на функцию creating

**/edit** - проверяет, вошёл ли пользователь в систему и если да, запрашивает заголовок заметки перенаправляет на функцию editing

**/read** - проверяет, вошёл ли пользователь в систему и если да, запрашивает заголовок заметки перенаправляет на функцию reading

**/delete** - проверяет, вошёл ли пользователь в систему и если да, запрашивает заголовок заметки перенаправляет на функцию deleting

**/export** - проверяет, вошёл ли пользователь в систему и если да, запрашивает заголовок заметки перенаправляет на функцию exporting

**/logout** - проверяет, вошёл ли пользователь в систему и если да, меняет значение переменной reqs.signedin на False

**/deluser** - удаляет пользователя из базы данных и меняет значение переменной reqs.signedin на False

### Инструкция по запуску:

Необходимо установить файлы project_2.py и reqs.py, поместить их в одной папке и запустить файл project_2.py. Затем можно пользоваться ботом по адресу https://t.me/MiptDiaryBot.
